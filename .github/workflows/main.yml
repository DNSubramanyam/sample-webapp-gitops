name: Set Sample WebApp
on: workflow_dispatch
jobs:
    AppDeploy:
        runs-on: ubuntu-latest
        defaults: 
            run:
              shell: bash
              working-directory: ./ansible
        steps:
            - name: code checkout
              uses: actions/checkout@v4
            - name: check path
              run: pwd
            - name: check files
              run: ls -al
            - name: Run playbook
              uses: dawidd6/action-ansible-playbook@v2
              with:
                playbook: /home/runner/work/sample-webapp-gitops/sample-webapp-gitops/ansible/ping.yaml
                directory: /home/runner/work/sample-webapp-gitops/sample-webapp-gitops/ansible
                key: ${{ secrets.SSH_PRIVATE_KEY }}
                inventory: /home/runner/work/sample-webapp-gitops/sample-webapp-gitops/ansible/inventory.yaml



